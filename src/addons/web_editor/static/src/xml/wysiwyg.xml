<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">

    <!--=================-->
    <!-- Edition Iframe -->
    <!--=================-->
    <t t-name="wysiwyg.iframeContent"><head>
            <meta charset="utf-8"/>
            <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
            <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
            <t t-foreach="assets || []" t-as="asset">
                <t t-foreach="asset.cssLibs || []" t-as="cssLib">
                    <link type="text/css" rel="stylesheet" t-att-href="cssLib"/>
                </t>
                <t t-foreach="asset.cssContents || []" t-as="cssContent">
                    <style type="text/css" t-out="cssContent"/>
                </t>
                <t t-foreach="asset.jsLibs || []" t-as="jsLib">
                    <script type="text/javascript" t-att-src="jsLib"/>
                </t>
                <t t-foreach="asset.jsContents || []" t-as="jsContent" t-if="jsContent.indexOf('inline asset') !== -1">
                    <script type="text/javascript" t-out="jsContent"/>
                </t>
            </t>
            <script type="text/javascript">
                verp.define('web.session', function () {
                    return window.top.verp.__DEBUG__.services['web.session'];
                });

                verp.define('root.widget', function (require) {
                    'use strict';
                    var Widget = require('web.Widget');
                    var widget = new Widget();
                    widget.appendTo(document.body);
                    return widget;
                });

                verp.define('web.core.top', function (require) {
                    var core = require('web.core');
                    core.qweb.templates = window.top.verp.__DEBUG__.services['web.core'].qweb.templates;
                });
            </script>
        </head>
        <body class="o-in-iframe">
            <div id="iframeTarget"/>
            <script type="text/javascript">
                verp.define('web_editor.wysiwyg.iniframe', function (require) {
                    'use strict';
                    if (window.top.<t t-esc="updateIframeId"/>) {
                        window.top.<t t-esc="updateIframeId"/>(<t t-esc="avoidDoubleLoad"/>);
                    }
                });
            </script>
        </body>
    </t>

    <!--=================-->
    <!-- Edition Dialogs -->
    <!--=================-->

    <!-- Alt Dialog (allows to change alt and title of page images) -->
    <form t-name="wysiwyg.widgets.alt" action="#">
        <div class="form-group row">
            <label class="col-md-3 col-form-label" for="alt"
                   title="'Alt tag' specifies an alternate text for an image, if the image cannot be displayed (slow connection, missing image, screen reader ...).">
               Description <small>(ALT Tag)</small>
            </label>
            <div class="col-md-8">
                <input class="form-control" id="alt" required="required" t-att-value="widget.alt" type="text"/>
            </div>
        </div>
        <div class="form-group row">
            <label class="col-md-3 col-form-label" for="title"
                   title="'Title tag' is shown as a tooltip when you hover the picture.">
               Tooltip  <small>(TITLE Tag)</small>
            </label>
            <div class="col-md-8">
                <input class="form-control" id="title" required="required" t-att-value="widget.tagTitle" type="text"/>
            </div>
        </div>
    </form>

    <!-- Media Dialog (allows to choose an img/pictogram/video) -->
    <div t-name="wysiwyg.widgets.media">
        <ul class="nav nav-tabs" role="tablist">
            <li t-if="!widget.options.noImages" class="nav-item"><a t-attf-class="nav-link #{widget.isImageActive() ? 'active' : ''}" id="editorMediaImage-tab" data-toggle="tab" href="#editorMediaImage" role="tab" aria-controls="editorMediaImage" t-att-aria-selected="widget.isImageActive().toString()">Image</a></li>
            <li t-if="!widget.options.noDocuments" class="nav-item"><a t-attf-class="nav-link #{widget.isDocumentActive() ? 'active' : ''}" id="editorMediaDocument-tab" data-toggle="tab" href="#editorMediaDocument" role="tab" aria-controls="editorMediaDocument" t-att-aria-selected="widget.isDocumentActive().toString()">Document</a></li>
            <li t-if="!widget.options.noIcons" class="nav-item"><a t-attf-class="nav-link #{widget.isIconActive() ? 'active' : ''}" id="editorMediaIconTab" data-toggle="tab" href="#editorMediaIcon" role="tab" aria-controls="editorMediaIcon" t-att-aria-selected="widget.isIconActive().toString()">Pictogram</a></li>
            <li t-if="!widget.options.noVideos" class="nav-item"><a t-attf-class="nav-link #{widget.isVideoActive() ? 'active' : ''}" id="editorMediaVideoTab" data-toggle="tab" href="#editorMediaVideo" role="tab" aria-controls="editorMediaVideo" t-att-aria-selected="widget.isVideoActive().toString()">Video</a></li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content">
            <div t-if="!widget.options.noImages" t-attf-class="tab-pane fade #{widget.isImageActive() ? 'show active': ''}" id="editorMediaImage" role="tabpanel" aria-labelledby="editorMediaImage-tab"/>
            <div t-if="!widget.options.noDocuments" t-attf-class="tab-pane fade #{widget.isDocumentActive() ? 'show active': ''}" id="editorMediaDocument" role="tabpanel" aria-labelledby="editorMediaDocument-tab"/>
            <div t-if="!widget.options.noIcons" t-attf-class="tab-pane fade #{widget.isIconActive() ? 'show active': ''}" id="editorMediaIcon" role="tabpanel" aria-labelledby="editorMediaIconTab"/>
            <div t-if="!widget.options.noVideos" t-attf-class="tab-pane fade #{widget.isVideoActive() ? 'show active': ''}" id="editorMediaVideo" role="tabpanel" aria-labelledby="editorMediaVideoTab"/>
        </div>
    </div>

    <t t-name="wysiwyg.widgets.media.search">
        <div class="input-group mr-auto">
            <input type="text" class="form-control o-we-search" t-att-placeholder="searchPlaceholder.trim()"/>
            <div class="input-group-append">
                <div class="input-group-text o-we-search-icon">
                    <i class="fa fa-search" title="Search" role="img" aria-label="Search"/>
                </div>
            </div>
        </div>
    </t>

    <!-- File choosing part of the Media Dialog -->
    <t t-name="wysiwyg.widgets.file">
        <form>
            <t t-call="wysiwyg.widgets.files.submenu"/>
            <div class="form-text o-we-error-text"/>
            <div class="o-we-existing-attachments"/>
            <div class="mt-4 text-center mx-auto o-we-load-more">
                <button class="btn btn-primary o-load-more d-none" type="button">Load more...</button>
                <div class="mt-4 o-load-done-msg d-none">
                    <span><i>All images have been loaded</i></span>
                </div>
            </div>
        </form>
    </t>

    <t t-name="wysiwyg.widgets.files.submenu">
        <div class="form-inline align-items-center py-4">
            <t t-call="wysiwyg.widgets.media.search"/>
            <t t-out="0"/>

            <input type="file" class="d-none o-file-input" name="upload" t-att-accept="widget.options.accept" t-att-multiple="widget.options.multiImages &amp;&amp; 'multiple'"/>

            <div class="input-group align-items-center ml-2">
                <input type="text" class="form-control o-we-url-input o-we-horizontal-collapse o-we-transition-ease" name="url" t-att-placeholder="urlPlaceholder"/>
                <div class="input-group-append align-items-center">
                    <button type="button" class="btn btn-secondary o-upload-media-url-button">
                        <t t-out="addText"/>
                    </button>
                    <div class="mx-2">
                        <span class="o-we-url-success text-success d-none fa fa-lg fa-check" title="The URL seems valid."/>
                        <span t-if="urlWarningTitle" class="o-we-url-warning text-warning d-none fa fa-lg fa-warning" t-att-title="urlWarningTitle"/>
                        <span class="o-we-url-error text-danger d-none fa fa-lg fa-times" title="The URL does not seem to work."/>
                    </div>
                </div>
            </div>

            <div class="btn-group">
                <button type="button" class="btn btn-primary o-upload-media-button">
                    <t t-out="uploadText"/>
                </button>
            </div>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image">
        <t t-call="wysiwyg.widgets.file">
            <t t-set="uploadText">Upload an image</t>
            <t t-set="urlPlaceholder">https://www.theverp.com/logo.png</t>
            <t t-set="addText">Add URL</t>
            <t t-set="searchPlaceholder">Search an image</t>
            <t t-set="urlWarningTitle">Uploaded image's format is not supported. Try with: </t>
            <t t-set="urlWarningTitle" t-value="urlWarningTitle + widget.IMAGE_EXTENSIONS.join(', ')"/>
            <div class="d-flex justify-content-start flex-grow-1 ml-2">
                <div t-attf-class="custom-control custom-switch #{__debug__ and 'd-flex' or 'd-none'} align-items-center mr-2">
                    <input class="o-we-show-optimized ml-2 custom-control-input" type="checkbox" id="oWeShowOptimizedSwitch"/>
                    <label class="custom-control-label" for="oWeShowOptimizedSwitch">
                        Show optimized images
                    </label>
                </div>
                <select class="custom-select o-we-search-select d-none">
                    <option value="all">All</option>
                    <option value="database">My Images</option>
                    <option t-if="widget.options.useMediaLibrary" value="media-library">Illustrations</option>
                </select>
            </div>
        </t>
    </t>

    <t t-name="wysiwyg.widgets.document">
        <t t-call="wysiwyg.widgets.file">
            <t t-set="uploadText">Upload a document</t>
            <t t-set="urlPlaceholder">https://www.theverp.com/mydocument</t>
            <t t-set="addText">Add document</t>
            <t t-set="searchPlaceholder">Search a document</t>
        </t>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.attachments">
        <div class="o-we-existing-attachments o-we-images d-flex flex-wrap w-100 justify-content-between align-items-stretch my-0">
            <t t-if="!widget.hasContent()">
                <div t-if="widget.needle" class="o-nocontent-help">
                    <p class="o-empty-folder-image">No images found.</p>
                    <p class="o-empty-folder-subtitle">You can upload images with the button located in the top left of the screen.</p>
                </div>
                <div t-else="" class="o-we-search-prompt">
                    <h2>Get the perfect image by searching in our library of copyright free photos and illustrations.</h2>
                </div>
            </t>
            <t t-else="">
                <t t-if="['all', 'database'].includes(widget.searchService)" t-foreach="attachments" t-as="attachment">
                    <t t-call="wysiwyg.widgets.image.existing.attachment"/>
                </t>
                <t t-if="['all', 'media-library'].includes(widget.searchService)" t-foreach="libraryMedia" t-as="media">
                    <t t-call="wysiwyg.widgets.image.libraryMedia"/>
                </t>
                <!-- 20 placeholders is just enough for a 5K screen, change this if ImageWidget.MIN_ROW_HEIGHT changes -->
                <t t-foreach="20">
                    <div class="o-we-attachment-placeholder"/>
                </t>
            </t>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.attachment">
        <t t-set="isOptimized" t-value="!!attachment.originalId"/>
        <div t-attf-class="o-existing-attachment-cell position-relative bg-light #{isOptimized and 'o-we-attachment-optimized d-none' or ''} align-items-center justify-content-center" t-att-data-id="attachment.id">
            <t t-call="wysiwyg.widgets.file.existing.remove"/>
            <div class="o-we-media-dialog-img-wrapper">
                <img class="img img-fluid o-we-attachment-highlight" t-attf-src="#{attachment.thumbnailSrc or attachment.imageSrc}" t-att-alt="attachment.label" t-att-title="attachment.label"/>
            </div>
            <span t-if="isOptimized" class="badge badge-success">Optimized</span>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.image.libraryMedia">
        <div t-attf-class="o-existing-attachment-cell position-relative bg-light align-items-center justify-content-center o-library-media-cell" t-att-data-media-id="media.id">
            <div class="o-we-media-dialog-img-wrapper">
                <img class="img img-fluid o-we-attachment-highlight" t-attf-src="#{media.thumbnailUrl}" t-att-title="media.tooltip or ''" crossorigin="anonymous"/>
                <a t-if="media.author" class="o-we-media-author" t-att-href="media.authorLink" target="_blank" t-esc="media.author"/>
            </div>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.document.existing.attachments">
        <div class="o-we-existing-attachments o-we-documents">
            <div t-if="!attachments.length" class="o-nocontent-help">
                <p class="o-empty-folder-image">No documents found.</p>
                <p class="o-empty-folder-subtitle">You can upload documents with the button located in the top left of the screen.</p>
            </div>
            <div t-else="" class="row mx-auto">
                <t t-foreach="attachments" t-as="attachment">
                    <div class="col-2 o-existing-attachment-cell o-we-attachment-highlight my-2" t-att-data-id="attachment.id">
                        <t t-call="wysiwyg.widgets.file.existing.remove"/>

                        <div t-att-data-url="attachment.url" role="img" t-att-aria-label="attachment.label" t-att-title="attachment.label" t-att-data-mimetype="attachment.mimetype" t-attf-class="o-image d-flex align-items-center justify-content-center"/>
                        <small class="o-file-name" t-esc="attachment.label"/>
                    </div>
                </t>
            </div>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.file.existing.remove">
        <t t-set="removeTitle" t-if="attachment.resModel === 'ir.ui.view'">This file is a public view attachment.</t>
        <t t-set="removeTitle" t-else="">This file is attached to the current record.</t>
        <i class="fa fa-trash o-existing-attachment-remove p-2" t-att-title="removeTitle" role="img" t-att-aria-label="removeTitle"/>
    </t>

    <t t-name="wysiwyg.widgets.image.existing.error">
        <div class="form-text">
            <p>The image could not be deleted because it is used in the
               following pages or views:</p>
            <ul t-as="view" t-foreach="views">
                <li>
                    <a t-attf-href="/web#model=ir.ui.view&amp;id=#{view.id}">
                        <t t-esc="view.label"/>
                    </a>
                </li>
            </ul>
        </div>
    </t>

    <t t-name="wysiwyg.widgets.upload.progressbar">
        <div t-attf-class="o-we-progressbar js-progressbar-#{fileId}">
            <div class="d-flex text-info">
                <span><i class="fa fa-spinner fa-pulse"/></span>
                <span class="font-italic font-weight-bold text-truncate flex-grow-1 mx-2" t-esc="fileName"/>
                <span class="text-nowrap" t-esc="fileSize"/>
            </div>
            <div class='js-progressbar-txt'>
                <span class="text-success d-none"><i class='fa fa-check'/> File has been uploaded</span>
                <span class="text-danger d-none"><i class='fa fa-times float-left m-1'/> <span class="o-we-error-text">File could not be saved</span></span>
            </div>
            <div class="progress">
                <div class="progress-bar bg-info progress-bar-striped progress-bar-animated" role="progressbar" style="width: 0%;">0%</div>
            </div>
            <hr/>
        </div>
    </t>
    <t t-name="wysiwyg.widgets.upload.progressToast">
        <div class="o-notification-manager">
            <div t-attf-class="o-notification bg-info fade show" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="o-notification-body">
                    <button type="button" class="close o-notification-close"
                    aria-label="Close">
                        <span class="d-inline" aria-hidden="true">×</span>
                    </button>
                    <div class="mr-auto o-notification-content"/>
                </div>
            </div>
        </div>
    </t>

    <!-- Icon choosing part of the Media Dialog -->
    <t t-name="wysiwyg.widgets.font-icons">
        <form action="#">
            <div class="form-inline align-items-center py-4">
                <t t-call="wysiwyg.widgets.media.search">
                    <t t-set="searchPlaceholder">Search a pictogram</t>
                </t>
            </div>
            <div class="font-icons-icons">
                <t t-call="wysiwyg.widgets.font-icons.icons">
                    <t t-set="iconsParser" t-value="widget.iconsParser"/>
                </t>
            </div>
        </form>
    </t>
    <t t-name="wysiwyg.widgets.font-icons.icons">
        <t t-as="data" t-foreach="iconsParser">
            <span t-foreach="data.cssData" t-as="cssData"
                t-att-data-id="cssData.names[0]"
                t-att-title="cssData.names[0]"
                t-att-aria-label="cssData.names[0]" role="img"
                t-attf-class="font-icons-icon #{data.base} #{cssData.names[0]}"
                t-att-data-alias="cssData.names.join(',')"/>
        </t>
    </t>

    <!-- Video choosing part of the Media Dialog -->
    <t t-name="wysiwyg.widgets.video">
        <form action="#" class="row">
            <div class="col mt-4 o-video-dialog-form">
                <div class="form-group mb-2" id="videoFormGroup">
                    <label class="col-form-label" for="oVideoText">
                        Video code <small>(URL or Embed)</small>
                    </label>
                    <div class="text-left">
                        <small class="text-muted">Accepts <b><i>Youtube</i></b>, <b><i>Vimeo</i></b>, <b><i>Dailymotion</i></b> and <b><i>Youku</i></b> videos</small>
                    </div>
                    <textarea class="form-control" id="oVideoText" placeholder="Copy-paste your URL or embed code here"/>
                </div>
                <div class="o-video-dialog-options d-none mt-4">
                    <div class="o-youtube-option o-vimeo-option o-dailymotion-option">
                      <label class="o-switch mb0">
                        <input id="oVideoAutoplay" type="checkbox"/><span/>
                        <span style="margin-right: 8px;">Autoplay</span>
                        <span class="small text-muted" style="margin-left: auto;">Videos are muted when autoplay is enabled</span>
                      </label>
                    </div>
                    <div class="o-youtube-option o-vimeooption">
                        <label class="o-switch mb0"><input id="oVideoLoop" type="checkbox"/><span/>Loop</label>
                    </div>
                    <div class="o-youtube-option o-dailymotion-option o-vimeo-option">
                        <label class="o-switch mb0"><input id="oVideoHideControls" type="checkbox"/><span/>Hide player controls</label>
                    </div>
                    <div class="o-youtube-option">
                        <label class="o-switch mb0"><input id="oVideoHideFullscreen" type="checkbox"/><span/>Hide fullscreen button</label>
                    </div>
                    <div class="o-youtube-option">
                        <label class="o-switch mb0"><input id="oVideoHideYtLogo" type="checkbox"/><span/>Hide Youtube logo</label>
                    </div>
                    <div class="o-dailymotion-option">
                        <label class="o-switch mb0"><input id="oVideoHideDmLogo" type="checkbox"/><span/>Hide Dailymotion logo</label>
                    </div>
                    <div class="o-dailymotion-option">
                        <label class="o-switch mb0"><input id="oVideoHideDmShare" type="checkbox"/><span/>Hide sharing button</label>
                    </div>
                </div>
                <t t-if="widget._vimeoPreviewIds || widget._youtubePreviewIds">
                    <span class="font-weight-bold">Suggestions</span>
                    <div id="videoSuggestion" class="mt-4 d-flex flex-wrap mh-75 overflow-auto">
                        <t t-foreach="widget._vimeoPreviewIds" t-as="vimeoId">
                            <div class="o-sample-video w-25 mh-100" t-att-data-vimeo="vimeoId"/>
                        </t>
                    </div>
                </t>
            </div>
            <div class="col-md-6">
                <div id="videoPreview" class="p-3">
                    <div class="o-video-dialog-preview-text small mb-2 d-none">Preview</div>
                    <div class="media-iframe-video">
                        <div class="media-iframe-video-size"/>
                        <iframe class="o-video-dialog-iframe" allowfullscreen="allowfullscreen" frameborder="0" src=""/>
                    </div>
                </div>
            </div>
        </form>
    </t>


    <!-- Link Dialog (allows to choose a style and content for a link on the page) -->
    <div t-name="wysiwyg.widgets.link" class="o-link-dialog">
        <div class="row">
            <form class="col-lg-8">
                <div t-attf-class="form-group row#{widget.needLabel ? '' : ' d-none'}">
                    <label class="col-form-label col-md-3" for="oLinkDialogLabelInput">Link Label</label>
                    <div class="col-md-9">
                        <input type="text" name="label" class="form-control" id="oLinkDialogLabelInput" required="required" t-att-value="widget.data.content"/>
                    </div>
                </div>
                <div t-attf-class="form-group row o-url-input#{widget.isButton ? ' d-none' : ''}">
                    <label class="col-form-label col-md-3" for="oLinkDialogUrlInput">URL or Email</label>
                    <div class="col-md-9">
                        <input type="text" name="url" class="form-control" id="oLinkDialogUrlInput" required="required"/>
                        <div class="form-check o-strip-domain d-none">
                            <input type="checkbox" id="oLinkDialogUrlStripDomain" checked="checked" class="form-check-input"/>
                            <label for="oLinkDialogUrlStripDomain" class="form-check-label font-weight-normal">
                                Autoconvert to relative link
                            </label>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <label class="col-form-label col-md-3">Type</label>
                    <div class="col-md-9 d-flex align-items-center">
                        <div t-attf-class="#{widget.colorCombinationClass ? ('p-2 ' + widget.colorCombinationClass) : ''}">
                            <t t-foreach="widget.colorsData" t-as="colorData">
                                <label role="button" class="m-0 mr-2" t-if="colorData.type !== 'custom'">
                                    <input type="radio" name="linkStyleColor" class="d-none link-style" t-att-value="colorData.type"/>
                                    <span t-esc="colorData.label"
                                            t-attf-class="o-btn-preview btn btn-sm btn-#{colorData.btnPreview} #{colorData.type ? '' : 'px-0'}"/>
                                </label>
                            </t>
                        </div>
                    </div>
                </div>
                <div id="oLinkDialogButtonOptsCollapse" class="collapse">
                    <div class="form-group row">
                        <label class="col-form-label col-md-3">Size</label>
                        <div class="col-md-9">
                            <select name="linkStyleSize" class="form-control link-style">
                                <option value="sm">Small</option>
                                <option value="" selected="selected">Medium</option>
                                <option value="lg">Large</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-form-label col-md-3">Style</label>
                        <div class="col-md-9">
                            <select name="linkStyleShape" class="form-control link-style">
                                <option value="" selected="selected">Default</option>
                                <option value="rounded-circle">Default + Rounded</option>
                                <option value="outline">Outline</option>
                                <option value="outline,rounded-circle">Outline + Rounded</option>
                                <option value="fill">Fill</option>
                                <option value="fill,rounded-circle">Fill + Rounded</option>
                                <option value="flat">Flat</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="form-group row" t-if="!widget.isButton &amp;&amp; !widget.options.forceNewWindow">
                    <div class="offset-md-3 col-md-9">
                        <label class="o-switch">
                            <input type="checkbox" name="isNewWindow" t-att-checked="widget.data.isNewWindow ? 'checked' : undefined"/>
                            <span/>
                            Open in new window
                        </label>
                    </div>
                </div>
            </form>
            <div class="col-lg-4 o-link-dialog-preview">
                <div class="form-group text-center">
                    <label>Preview</label>
                    <div t-attf-class="#{widget.colorCombinationClass ? ('p-2 ' + widget.colorCombinationClass) : ''}"
                         style="overflow-x: auto; max-width: 100%; max-height: 200px;">
                        <a href="#" id="linkPreview" aria-label="Preview" title="Preview"/>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Link Edition : Popover -->
    <div t-name="wysiwyg.widgets.link.edit.tooltip" class="d-flex">
        <span class="mr-2 o-we-preview-favicon"><i class="fa fa-globe"/><img class="align-baseline d-none"/></span>
        <div class="w-100">
            <div class="d-flex">
                <a href="#" target="_blank" class="o-we-url-link font-weight-bold flex-grow-1" t-esc="widget.href" title="Open in a new tab"/>
                <a href="#" class="mx-2 o-we-copy-link text-dark" data-toggle="tooltip" data-placement="top" title="Copy Link">
                    <i class="fa fa-clone"/>
                </a>
                <a href="#" class="mx-2 o-we-edit-link text-dark" data-toggle="tooltip" data-placement="top" title="Edit Link">
                    <i class="fa fa-edit"/>
                </a>
                <a href="#" class="ml-2 o-we-remove-link text-dark" data-toggle="tooltip" data-placement="top" title="Remove Link">
                    <i class="fa fa-chain-broken"/>
                </a>
            </div>
            <a href="#" target="_blank" class="o-we-full-url mt-1 text-muted d-none" t-esc="widget.href" title="Open in a new tab"/>
        </div>
    </div>
    <we-customizeblock-option t-name="wysiwyg.widgets.linkTools">
        <we-row t-attf-class="{{widget.needLabel ? '' : 'd-none'}}">
            <we-title>⌙ Link Label</we-title>
            <we-input class="o-we-user-value-widget">
                <div>
                    <input name="label" id="oLinkDialogLabelInput" t-att-value="widget.data.content" type="text"/>
                </div>
            </we-input>
        </we-row>
        <we-row id="urlRow" t-attf-class="#{widget.isButton ? ' d-none' : ''}">
            <we-input class="o-we-user-value-widget">
                <we-title class="o-short-title">⌙ </we-title>
                <div class="o-url-input">
                    <input name="url" id="oLinkDialogUrlInput" type="text" placeholder="Your URL"/>
                </div>
            </we-input>
        </we-row>
        <we-row class="o-strip-domain d-none" t-attf-class="#{widget.isButton ? ' d-none' : ''}">
            <we-button class="o-we-user-value-widget o-we-checkbox-wrapper active">
                <we-title class="o-long-title">⌙ Autoconvert to relative link</we-title>
                    <div class="o-switch">
                        <we-checkbox name="doStripDomain" t-att-checked="widget.data.doStripDomain ? 'checked' : undefined"/>
                    </div>
            </we-button>
        </we-row>
        <we-row>
            <we-select class="o-we-user-value-widget">
                <we-title>⌙ Style</we-title>
                <div class="dropdown">
                    <button class="dropdown-toggle"
                        data-toggle="dropdown" title="" tabindex="-1"
                        data-original-title="Link Style" aria-expanded="false">
                        <we-toggler/>
                    </button>
                    <we-selection-items class="dropdown-menu" name="linkStyleColor">
                        <t t-foreach="widget.colorsData" t-as="colorData">
                            <we-button class="dropdown-item" href="#" t-att-data-value="colorData.type">
                                <t t-esc="colorData.label"/>
                            </we-button>
                        </t>
                    </we-selection-items>
                    <span class="o-we-dropdown-caret"></span>
                </div>
            </we-select>
        </we-row>
        <we-row class="link-custom-color link-custom-color-text">
            <we-select title="Color" class="o-we-user-value-widget o-we-so-color-palette">
                <we-title> ⌙ Text Color</we-title><!-- &emsp; -->
                <div class="dropdown">
                    <span data-toggle="dropdown" data-css-property="color" class="o-we-color-preview"></span>
                    <we-selection-items class="dropdown-menu" name="linkTextColor"/>
                </div>
            </we-select>
        </we-row>
        <we-row class="link-custom-color link-custom-color-fill">
            <we-select title="Color" class="o-we-user-value-widget o-we-so-color-palette">
                <we-title> ⌙ Fill Color</we-title><!-- &emsp; -->
                <div class="dropdown">
                    <span data-toggle="dropdown" data-css-property="background-color" class="o-we-color-preview"></span>
                    <we-selection-items class="dropdown-menu" name="linkFillColor"/>
                </div>
            </we-select>
        </we-row>
        <we-row class="link-custom-color link-custom-color-border">
            <we-title> ⌙ Border</we-title><!-- &emsp; -->
            <div>
                <we-input class="o-we-user-value-widget" title="Border Width">
                    <div class="o-custom-border-width-input">
                        <input name="customBorderWidth" type="text" class="text-right" size="2"/>
                        <span>px</span>
                    </div>
                </we-input>
                <we-select class="o-we-user-value-widget" title="Border Style">
                    <div class="dropdown">
                        <button class="dropdown-toggle"
                            data-toggle="dropdown" title="" tabindex="-1"
                            data-original-title="Link Border Style" aria-expanded="false">
                            <we-toggler/>
                        </button>
                        <we-selection-items class="dropdown-menu" name="linkBorderStyle">
                            <we-button title="Solid" class="dropdown-item" data-value="solid"><div class="o-we-fake-img-item o-we-border-preview" style="border-style: solid;"/></we-button>
                            <we-button title="Dashed" class="dropdown-item" data-value="dashed"><div class="o-we-fake-img-item o-we-border-preview" style="border-style: dashed;"/></we-button>
                            <we-button title="Dotted" class="dropdown-item" data-value="dotted"><div class="o-we-fake-img-item o-we-border-preview" style="border-style: dotted;"/></we-button>
                            <we-button title="Double" class="dropdown-item" data-value="double"><div class="o-we-fake-img-item o-we-border-preview" style="border-style: double; border-left: none; border-right: none;"/></we-button>
                        </we-selection-items>
                    </div>
                </we-select>
                <we-select title="Border Color" class="o-we-user-value-widget o-we-so-color-palette">
                    <div class="dropdown">
                        <span data-toggle="dropdown" data-css-property="border-color" class="o-we-color-preview"></span>
                        <we-selection-items class="dropdown-menu" name="linkBorderColor"/>
                    </div>
                </we-select>
            </div>
        </we-row>
        <we-row class="link-size-row">
            <we-select class="o-we-user-value-widget">
                <we-title>⌙ Size</we-title>
                <div>
                    <div class="dropdown">
                        <button class="dropdown-toggle"
                            data-toggle="dropdown" title="" tabindex="-1"
                            data-original-title="Link Size" aria-expanded="false">
                            <we-toggler>
                                Medium
                            </we-toggler>
                        </button>
                        <we-selection-items name="linkStyleSize" class="dropdown-menu link-style">
                            <we-button class="dropdown-item" href="#" data-value="sm">
                                Small
                            </we-button>
                            <we-button class="dropdown-item active" href="#" data-value="">
                                Medium
                            </we-button>
                            <we-button class="dropdown-item" href="#" data-value="lg">
                                Large
                            </we-button>
                        </we-selection-items>
                        <span class="o-we-dropdown-caret"></span>
                    </div>
                </div>
            </we-select>
        </we-row>
        <we-row class="link-shape-row">
            <we-select class="o-we-user-value-widget">
                <we-title>⌙ Shape</we-title>
                <div>
                    <div class="dropdown">
                        <button class="dropdown-toggle"
                            data-toggle="dropdown" title="" tabindex="-1"
                            data-original-title="Link Shape" aria-expanded="false">
                            <we-toggler>
                                Default
                            </we-toggler>
                        </button>
                        <we-selection-items name="linkStyleShape" class="dropdown-menu link-style">
                            <we-button class="dropdown-item active" data-value="">Default</we-button>
                            <we-button class="dropdown-item" data-value="rounded-circle">Default + Rounded</we-button>
                            <we-button class="dropdown-item" data-value="outline">Outline</we-button>
                            <we-button class="dropdown-item" data-value="outline,rounded-circle">Outline + Rounded</we-button>
                            <we-button class="dropdown-item" data-value="fill">Fill</we-button>
                            <we-button class="dropdown-item" data-value="fill,rounded-circle">Fill + Rounded</we-button>
                            <we-button class="dropdown-item" data-value="flat">Flat</we-button>
                        </we-selection-items>
                    </div>
                </div>
            </we-select>
        </we-row>
        <we-row  t-if="!widget.isButton &amp;&amp; !widget.options.forceNewWindow">
            <we-button t-attf-class="o-we-user-value-widget o-we-checkbox-wrapper #{widget.data.isNewWindow ? 'active' : ''}">
                <we-title class="o-long-title">⌙ Open in new window</we-title>
                    <div class="o-switch">
                        <we-checkbox name="isNewWindow" t-att-checked="widget.data.isNewWindow ? 'checked' : undefined"/>
                    </div>
            </we-button>
        </we-row>
    </we-customizeblock-option>

    <!-- ImageCropWidget controls (allows to crop images on the page) -->
    <div t-name="wysiwyg.widgets.crop" class="o-we-crop-widget" contenteditable="false">
        <div class="o-we-cropper-wrapper">
            <img class="o-we-cropper-img"/>
            <div class="o-we-crop-buttons text-center mt16 position-absolute o-we-no-overlay" contenteditable="false">
                <div class="btn-group btn-group-toggle" title="Aspect Ratio" data-toggle="buttons">
                    <t t-foreach="widget.aspectRatios" t-as="ratio">
                        <t t-set="isActive" t-value="ratio === widget.aspectRatio"/>
                        <label t-attf-class="btn #{isActive and 'active' or ''}" data-action="ratio" t-att-data-value="ratio">
                            <input type="radio" /><t t-esc="ratio_value.label"/>
                        </label>
                    </t>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Zoom In" data-action="zoom" data-value="0.1"><i class="fa fa-fw fa-search-plus"/></button>
                    <button type="button" title="Zoom Out" data-action="zoom" data-value="-0.1"><i class="fa fa-fw fa-search-minus"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Rotate Left" data-action="rotate" data-value="-90"><i class="fa fa-fw fa-rotate-left"/></button>
                    <button type="button" title="Rotate Right" data-action="rotate" data-value="90"><i class="fa fa-fw fa-rotate-right"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Flip Horizontal" data-action="flip" data-scale-direction="scaleX"><i class="fa fa-fw fa-arrows-h"/></button>
                    <button type="button" title="Flip Vertical" data-action="flip" data-scale-direction="scaleY"><i class="fa fa-fw fa-arrows-v"/></button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Reset Image" data-action="reset"><i class="fa fa-refresh"/> Reset Image</button>
                </div>
                <div class="btn-group" role="group">
                    <button type="button" title="Apply" data-action="apply" class="btn btn-primary"><i class="fa fa-check"/> Apply</button>
                    <button type="button" title="Discard" data-action="discard" class="btn btn-danger"><i class="fa fa-times"/> Discard</button>
                </div>
            </div>
        </div>
    </div>

</templates>
